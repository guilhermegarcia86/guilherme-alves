---
title: "Primeiros Passos no MIT App Inventor: Adicionando um banco de dados"
pubDate: 'Jun 30 2025'
heroImage: '../../assets/mit-app-inventor-setup.jpg'
description: "Como salvar e carregar uma lista automaticamente no MIT App Inventor usando TinyDB"
---

## IntroduÃ§Ã£o

No [primeiro artigo da sÃ©rie](LINK_DO_ARTIGO_ANTERIOR), criamos a estrutura base do nosso projeto no MIT App Inventor: configuramos a conta, criamos um novo projeto e preparamos o ambiente para comeÃ§ar a desenvolver nosso primeiro app.

Agora vamos evoluir esse projeto adicionando funcionalidades importantes para qualquer aplicativo real:

- Salvar dados inseridos pelo usuÃ¡rio
- Exibir esses dados em uma lista
- E, o mais importante: **manter esses dados salvos mesmo apÃ³s fechar o app**

Esse comportamento Ã© possÃ­vel graÃ§as ao uso de um banco de dados local chamado **TinyDB**, que permite **persistÃªncia de dados** no dispositivo â€” ou seja, os dados continuam disponÃ­veis mesmo depois que o app Ã© encerrado.

Vamos construir isso passo a passo.

---

## ğŸ§° Ferramentas utilizadas

- **MIT App Inventor** (https://appinventor.mit.edu)
- **TinyDB**: banco de dados local embutido no App Inventor
- **ListView**: para exibir os itens na tela
- **TextBox** e **Button**: para adicionar novos itens
- **Dispositivo Android ou App Inventor Companion para iOS**

---

## âœ… Objetivo do app

Criar um aplicativo onde o usuÃ¡rio pode:
- Adicionar itens a uma lista
- Visualizar os itens salvos
- **Manter a lista salva** mesmo depois de fechar o app

---

## ğŸ› ï¸ Passo a passo

### 1. Crie o projeto

1. Acesse o MIT App Inventor e clique em `Start new project`
2. Nomeie como: `carregaLista`

---

### 2. Monte a interface no Designer

- Arraste um **VerticalArrangement** para organizar os componentes
![SessÃ£o Layout onde se encontra o VerticalArrangement](https://raw.githubusercontent.com/guilhermegarcia86/guilhermecode.tech/refs/heads/main/assets/posts/app-inventor-bd/add-vertical-arrangement.png)

- Dentro dele, adicione:
  - `Label` com o texto: "Minha lista de itens"
  - `ListView` (renomeie para `ListViewItens`)
  - `TextBox` (renomeie para `TextBoxNovoItem`)
  - `Button` com texto: "Adicionar" (renomeie para `BotaoAdicionar`)
![SessÃ£o User Interface onde se encontra os componentes visuais](https://raw.githubusercontent.com/guilhermegarcia86/guilhermecode.tech/refs/heads/main/assets/posts/app-inventor-bd/interface-designer.png)

- Adicione o componente **TinyDB** (fica na aba "Storage")
![SessÃ£o Storage onde se encontra o TinyDB](https://raw.githubusercontent.com/guilhermegarcia86/guilhermecode.tech/refs/heads/main/assets/posts/app-inventor-bd/add-tiny-db.png)

ğŸ’¡ **Dica de layout:**
- Defina `Height` do `ListView` como 300px
- Defina `Width` dos componentes como `Fill parent`
![SessÃ£o ListView](https://raw.githubusercontent.com/guilhermegarcia86/guilhermecode.tech/refs/heads/main/assets/posts/app-inventor-bd/dica-1-layout.png)
- Marque `Scrollable = true` na `Screen1` (Ãºtil para iPhone)
![SessÃ£o Screen1](https://raw.githubusercontent.com/guilhermegarcia86/guilhermecode.tech/refs/heads/main/assets/posts/app-inventor-bd/dica-2-layout.png)
---

Com isso feito a aparencia do app ficarÃ¡ assim:
![AparÃªncia do app](https://raw.githubusercontent.com/guilhermegarcia86/guilhermecode.tech/refs/heads/main/assets/posts/app-inventor-bd/aparencia-app.png)

### 3. Blocos de cÃ³digo

Agora vamos programar a lÃ³gica do app usando blocos visuais. Para isso vocÃª precisa clicar na aba **Blocks** no canto superior direito.
![Aba Blocks](https://raw.githubusercontent.com/guilhermegarcia86/guilhermecode.tech/refs/heads/main/assets/posts/app-inventor-bd/aba-blocks.png)

Ao fazer isso uma outra aba serÃ¡ aberta com a Ã¡rea de blocos onde vocÃª pode arrastar e soltar os componentes que adicionou no Designer.

#### a) VariÃ¡vel global para armazenar a lista
Vamos iniciar adicionando um variÃ¡vel global, na sessÃ£o *Variables*, chamada *listaItens* para armazenar a lista de itens e setar que ela deve comeÃ§ar como uma lista vazia, que se encontra na sessÃ£o *Lists*.
![Bloco de variÃ¡vel global](https://raw.githubusercontent.com/guilhermegarcia86/guilhermecode.tech/refs/heads/main/assets/posts/app-inventor-bd/var-global.png)  

---

#### b) LÃ³gica para inicializar o app

Vamos carregar a lista salva no TinyDB quando o app for aberto. Para isso, usamos o evento `Screen1.Initialize` e buscamos os dados do TinyDB.

![Bloco InicializaÃ§Ã£o do App](https://raw.githubusercontent.com/guilhermegarcia86/guilhermecode.tech/refs/heads/main/assets/posts/app-inventor-bd/app-init.png)  

##### Explicando a lÃ³gica aplicada: 
Adicionamos um bloco when Screen1.Initialize, que Ã© executado quando o app Ã© aberto. Dentro dele, usamos o bloco `TinyDB.GetValue` para buscar a lista salva com a chave "listaItens". Se nÃ£o houver nada salvo, usamos uma lista vazia como padrÃ£o e armazenamos o resultado na variÃ¡vel global `listaItens`. Em seguida, atualizamos a `ListViewItens.Elements` com essa lista.

---

#### c) Adicionar itens

Vamos adicionar a lÃ³gica para clicar no botÃ£o de adicionar e salvar o item no banco de dados

![Bloco Salvar no TinyDB](https://raw.githubusercontent.com/guilhermegarcia86/guilhermecode.tech/refs/heads/main/assets/posts/app-inventor-bd/salvar-banco.png)  

##### Explicando a lÃ³gica aplicada:
Adicionamos um bloco when BotaoAdicionar.Click, que Ã© executado quando o botÃ£o Ã© clicado. Dentro dele, pegamos o texto do `TextBoxNovoItem`, verificamos se nÃ£o estÃ¡ vazio e adicionamos esse item Ã  lista global `listaItens`. Em seguida, atualizamos a `ListViewItens.Elements` com a nova lista e salvamos essa lista no TinyDB usando `TinyDB.StoreValue` com a chave "listaItens". Por fim, limpamos o `TextBoxNovoItem` para permitir a adiÃ§Ã£o de novos itens.

---

## âš ï¸ Erros comuns (e como evitar)

| Erro | Causa | Como corrigir |
|------|-------|----------------|
| A lista nÃ£o aparece | EstÃ¡ adicionando Ã  `ListView.Elements` ao invÃ©s da lista global | Use `global listaItens` na lÃ³gica |
| TextBox nÃ£o visÃ­vel no iPhone | Layout mal configurado | Use `VerticalArrangement`, defina tamanhos fixos e ative scroll |
| Dados nÃ£o sÃ£o salvos | Falta de chamada ao `TinyDB.StoreValue` | Verifique se estÃ¡ salvando apÃ³s adicionar |
| Campo nÃ£o limpa apÃ³s adicionar | EstÃ¡ colocando `set TextBox to "0"` | Use `""` (vazio) para limpar corretamente |

---

## ğŸ“± Testando o app

### No Android:
1. Baixe o app **MIT AI2 Companion** na Play Store
2. Clique em `Connect > AI Companion` no navegador
3. Escaneie o QR code no celular

### No iPhone:
- Use o **MIT App Inventor Companion** da App Store
- Rode o app via QR code (nÃ£o Ã© possÃ­vel instalar permanentemente)

---

## âœ… ConclusÃ£o

Agora seu app estÃ¡ pronto para salvar e carregar automaticamente os dados da lista sempre que for aberto. Esse Ã© um dos primeiros passos para entender **persistÃªncia de dados em apps mobile**.

Se quiser continuar, vocÃª pode:
- Adicionar funÃ§Ã£o de deletar itens
- Trabalhar com mÃºltiplas listas
- Salvar com datas ou categorias

---

Se este artigo te ajudou, compartilhe com colegas que tambÃ©m estÃ£o aprendendo! ğŸ˜„
